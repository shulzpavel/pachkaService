# Production Deployment Checklist

## ‚úÖ –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- [ ] –°–æ–∑–¥–∞–Ω `.env` —Ñ–∞–π–ª –∏–∑ `env.example`
- [ ] –£–∫–∞–∑–∞–Ω `PACHKA_TOKEN` (—Ç–æ–∫–µ–Ω –±–æ—Ç–∞)
- [ ] –£–∫–∞–∑–∞–Ω `PACHKA_BOT_USER_ID` (ID –±–æ—Ç–∞)
- [ ] –£–∫–∞–∑–∞–Ω `JIRA_BASE_URL` (–¥–ª—è —Å—Å—ã–ª–æ–∫ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö)
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω `JIRA_WEBHOOK_SECRET` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è production)
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω `JIRA_ALLOWED_IPS` (IP –∞–¥—Ä–µ—Å–∞ Jira —Å–µ—Ä–≤–µ—Ä–æ–≤)
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω `INTERNAL_ALLOWED_IPS` (–¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤)
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω `ADMIN_API_KEY` (–¥–ª—è /reload endpoint)

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ routes.json

- [ ] –í—Å–µ `chatId` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
- [ ] –í—Å–µ –ø—Ä–∞–≤–∏–ª–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–∞–º/–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è–º
- [ ] –®–∞–±–ª–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
- [ ] `defaultChatId` –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)

### 3. –ë–æ—Ç –≤ Pachka

- [ ] –ë–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤–æ –≤—Å–µ —á–∞—Ç—ã –∏–∑ `routes.json`
- [ ] –ë–æ—Ç –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –∞–∫—Ç–∏–≤–µ–Ω –∏ –Ω–µ –∏—Å—Ç–µ–∫

### 4. Jira Webhook

- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –≤ Jira
- [ ] URL webhook –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π: `http://your-server:3000/jira/webhook`
- [ ] Webhook –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç payload
- [ ] –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HMAC - –Ω–∞—Å—Ç—Ä–æ–µ–Ω `JIRA_WEBHOOK_SECRET`

### 5. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- [ ] Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –ü–æ—Ä—Ç—ã 3000 –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ (–¥–ª—è Jira webhook)
- [ ] –ü–æ—Ä—Ç—ã 3001, 3002 –∑–∞–∫—Ä—ã—Ç—ã (—Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å–µ—Ç—å)
- [ ] Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] Reverse proxy –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

## üöÄ –î–µ–ø–ª–æ–π

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
git clone <repo-url>
cd pachkaService
cp env.example .env
nano .env  # –ó–∞–ø–æ–ª–Ω–∏ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```

### 2. –ó–∞–ø—É—Å–∫

```bash
docker-compose up -d
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# Health check
curl http://localhost:3000/health

# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
curl http://localhost:3000/health/services

# –õ–æ–≥–∏
docker-compose logs -f
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- [ ] `.env` —Ñ–∞–π–ª –ù–ï –≤ Git (–ø—Ä–æ–≤–µ—Ä—å `.gitignore`)
- [ ] IP allowlist –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è Jira
- [ ] HMAC –ø–æ–¥–ø–∏—Å—å –≤–∫–ª—é—á–µ–Ω–∞ (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HTTPS —á–µ—Ä–µ–∑ reverse proxy
- [ ] –õ–æ–≥–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∞–ª–µ—Ä—Ç—ã –Ω–∞ –æ—à–∏–±–∫–∏
- [ ] Health checks —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- [ ] –¢–µ—Å—Ç–æ–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ webhook —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —á–∞—Ç—ã
- [ ] –®–∞–±–ª–æ–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –°—Å—ã–ª–∫–∏ –Ω–∞ –∑–∞–¥–∞—á–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –¢–µ–≥–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## üìù –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω URL webhook –¥–ª—è –∫–æ–º–∞–Ω–¥—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –≤ Jira
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á
- [ ] –ö–æ–º–∞–Ω–¥–∞ –∑–Ω–∞–µ—Ç –∫–∞–∫ –æ–±–Ω–æ–≤–ª—è—Ç—å `routes.json`
